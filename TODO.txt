TODO:
----------------------------------------------
fitness-functions:(Emilie)
1. Överstämma /Understämma (Kan användas som countersubject och stämma)

2. Melodi som bygger ihop två delar( stämma till denna kan genereras med ovanför)

3. Slutmelodi

(Om vi har tid)
Generera subject

------------------------------------------------
Track_test (measure):
Generella testfunktioner för alla fitnessfunktioner:

Length:
Test average length of note in track (notes right now are far to fast)

Intervall tester:
* (Kollar consonant, men inte tenth änsålänge) Tonerna funkar tillsammans med melodin (vettiga intervall mellan subject, hållas inom "interval of tenth"): Finns funktioner för detta, t.ex. is_consonant (all vanliga konsonanta intervall), is_imperfect_consonant (terser och sexter), mm.

* Mäter interval på hela låten (Kollar så att noter har “bra” interval men även så att samma intervall inte upprepas genom hela).

* Testa om kontrapunkt-regler följs inom stämmor: https://en.wikipedia.org/wiki/Counterpoint#Considerations_for_all_species
Just nu finns count_fraction_of_good_melody_intervals som testar punkt 2.

Contrapuntal motion: (Johanna)
Kolla hur stor andel som är parallell (ska helst undvikas), similar (okej), contrary (jättebra) och oblique (okej) motion.

Progression:
Mäta om noter efter varandra skapar tillfälliga harmonic motions (t.ex. C-E-G eller D-F#-A)
Ackordföljder i varje takt
Mäta progression (tonic-subdominant-dominant)

Ackord + taktslag:
Ackord som är i rätt tonart

Test för fitness 2 (Melodi som binder samman):
Första noten ska passa med sista i den innan
Sista noten ska passa med första i den efter
Vägen mellan ska vara snyggt modellerad om det behövs
Ackordföljd/progression

Test för fitness 3 (Slut):
Tillfredsställande avslutande progression. 
Finns det en bra avslutande not? Grundtonen, troligen.
--------------------------------------------------
EG mutation:
1. Kanske byta från antal halvsteg till antal steg i fifth-skalan?
2. Note duration normalisation (Gaussian)
3. Wildness variable
---------------------------------------------------
Track_functions:
(fixa merge så att den dubblar istället för att klippa)
Generate longer test tracks?

-----------------------------------------------------------------------------------------------
DONE LIST
NewFugue: 
1. Create development in minor in bar 5 and 6. 
- Transposed -3 to minor + (stämma where second voice is empty during exposition 
 (this part can be left empty until EG is finished)
 
2. Create canon in bar 9 and 10.
- subject in first voice
- second voice is subject but shifted (half a bar for now)

3. Fining skeleton code for EG parts(insert EG function calls that generates "bad stuff" until fitness functions 
are complete. 

Track_test:
Notlängder / Clutter:
repeating_note_length: Kolla om duration är samma för större passager 
average_note_length_clusters: Kolla att not-duration är mer grupperat.
average_numb_of_chords: Mäta mängden ackord skapas av båda tracks samtidigt track (för många blir jobbigt att lyssna på)

Variation/Repetition: 
repeating_note_pitch: Kollar om note pitch är densamma
repeating_passages: Mäter genomsnittlig antal repetitioner, genomsnittlig längd av repeterande passager, hur stor bråkandel av track som repeteras nån gång under låten
Har en valfri Bool som avgör om man räknar en repetition med samma förhållande i pitch och notlängd eller endast pitch
                                
Mäta passager som upprepas (repetition)
Track_functions:
Shift/Canon. Returns track that is shifted x duration (used for NewFugue)

Mäta hur många av not-durations som hamnar på sitt “rätta" slag i låten. Ex. åttondelar på något åttondelsslag, fjärdedelar på ett fjärdedelsslag (inte på ett åttondelsslag) osv.

Mäta hur många noter som börjar samtidigt och har samma längd i båda tracks.

Intervalltester:
Mäter interval på taktslag. 
Ingen tritone i en tre-tons-passage (F-A-B är inte bra för F och B har en tritone mellan sig). 
Inte heller sjuor är bra i tre-tons-passage.
Kolla andelen intervall som är consonant.
Rimliga intervall inom en stämma 

Skalor:
Hur många noter är i skalan
